<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#000000">
  <link rel="manifest" href="manifest.json">
  <link rel="shortcut icon" href="favicon.ico">
  <title>Bundle Test</title>
</head>

<template id="bundle">
  <script type="text/javascript" src="log-current-script.js">
    console.log('currentScript = %o', document.currentScript);
  </script>
  <script type="module" src="export-default-1.mjs">
    const exported = { default: 1 };
    console.log('export %o', exported);
    export default exported.default;
  </script>
  <script type="module" src="export-default-url.mjs">
    const exported = { default: import.meta.url };
    console.log('export %o', exported);
    export default exported.default;
  </script>
  <style src="style.css">
    @import "theme.css";
    .styled {
      color: var(--color, red);
    }
  </style>
  <style src="theme.css">
    :root {
      --color: green;
    }

    .styled.blue {
      --color: blue;
    }
  </style>
  <html src="index.html">

  <head>
    <script type="text/javascript" src="log-current-script.js"></script>
    <script type="module" src="export-default-1.mjs"></script>
    <script type="module" src="export-default-url.mjs"></script>
    <style src="style.css"></style>
  </head>

  <body>
    <p class="styled">Styled</p>
    <p class="styled blue">Styled</p>
  </body>

  </html>

</template>

<body>
  <noscript>
    You need to enable JavaScript to run this app.
  </noscript>

  <h1>Client-driven Service-Worker</h1>

  <p>This demonstrates the potential for development and production payload modularization using Service Workers and client-side Caches.</p>

  <p>At the moment Chrome and Firefox seem to have implemented the necessary aspects of the underlaying specifications, but there are signals that Safari's implementation will also be on par.</p>

  <p>This demo is the product of the amazing prior and very detailed work done by the folks Mozilla's <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank">MDN</a> and <a href="https://serviceworke.rs/" target="_blank">serviceworke.rs</a></p>
</body>

</html>
